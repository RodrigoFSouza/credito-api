<div class="container mt-4">
    <div class="row">
      <div class="col-md-12">
        <!-- Cabeçalho -->
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h2>Detalhes do Crédito Constituído</h2>
          <button class="btn btn-secondary" (click)="voltarLista()">
            <i class="fas fa-arrow-left"></i> Voltar
          </button>
        </div>
  
        <!-- Mensagem de Erro -->
        <div *ngIf="error" class="alert alert-danger" role="alert">
          {{ error }}
        </div>
  
        <!-- Loading -->
        <div *ngIf="loading" class="text-center">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Carregando...</span>
          </div>
        </div>
  
        <!-- Detalhes do Crédito -->
        <div *ngIf="credito && !loading" class="card">
          <div class="card-header bg-primary text-white">
            <h5 class="mb-0">Crédito Nº {{ credito.numeroCredito }}</h5>
          </div>
          <div class="card-body">
            <div class="row">
              <!-- Informações Principais -->
              <div class="col-md-6">
                <h6 class="text-primary mb-3">Informações Principais</h6>
                
                <div class="mb-3">
                  <label class="form-label fw-bold">Número do Crédito:</label>
                  <p class="form-control-plaintext">{{ credito.numeroCredito }}</p>
                </div>
  
                <div class="mb-3">
                  <label class="form-label fw-bold">Número da NFS-e:</label>
                  <p class="form-control-plaintext">{{ credito.numeroNfse }}</p>
                </div>
  
                <div class="mb-3">
                  <label class="form-label fw-bold">Data de Constituição:</label>
                  <p class="form-control-plaintext">{{ formatarData(credito.dataConstituicao) }}</p>
                </div>
  
                <div class="mb-3">
                  <label class="form-label fw-bold">Tipo de Crédito:</label>
                  <p class="form-control-plaintext">
                    <span class="badge bg-primary fs-6">{{ credito.tipoCredito }}</span>
                  </p>
                </div>
  
                <div class="mb-3">
                  <label class="form-label fw-bold">Simples Nacional:</label>
                  <p class="form-control-plaintext">
                    <span class="badge fs-6" 
                          [class.bg-success]="credito.simplesNacional === 'Sim'"
                          [class.bg-secondary]="credito.simplesNacional === 'Não'">
                      {{ credito.simplesNacional }}
                    </span>
                  </p>
                </div>
              </div>
  
              <!-- Informações Financeiras -->
              <div class="col-md-6">
                <h6 class="text-success mb-3">Informações Financeiras</h6>
                
                <div class="mb-3">
                  <label class="form-label fw-bold">Valor ISSQN:</label>
                  <p class="form-control-plaintext text-success fw-bold fs-5">
                    {{ formatarMoeda(credito.valorIssqn) }}
                  </p>
                </div>
  
                <div class="mb-3">
                  <label class="form-label fw-bold">Valor Faturado:</label>
                  <p class="form-control-plaintext">{{ formatarMoeda(credito.valorFaturado) }}</p>
                </div>
  
                <div class="mb-3">
                  <label class="form-label fw-bold">Valor Dedução:</label>
                  <p class="form-control-plaintext text-warning">
                    {{ formatarMoeda(credito.valorDeducao) }}
                  </p>
                </div>
  
                <div class="mb-3">
                  <label class="form-label fw-bold">Base de Cálculo:</label>
                  <p class="form-control-plaintext">{{ formatarMoeda(credito.baseCalculo) }}</p>
                </div>
  
                <div class="mb-3">
                  <label class="form-label fw-bold">Alíquota:</label>
                  <p class="form-control-plaintext">{{ formatarPercentual(credito.aliquota) }}</p>
                </div>
              </div>
            </div>
  
            <!-- Resumo Financeiro -->
            <div class="row mt-4">
              <div class="col-md-12">
                <div class="card bg-light">
                  <div class="card-header">
                    <h6 class="mb-0">Resumo Financeiro</h6>
                  </div>
                  <div class="card-body">
                    <div class="row text-center">
                      <div class="col-md-3">
                        <div class="border-end">
                          <h6 class="text-muted">Valor Faturado</h6>
                          <h5 class="text-primary">{{ formatarMoeda(credito.valorFaturado) }}</h5>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="border-end">
                          <h6 class="text-muted">Dedução</h6>
                          <h5 class="text-warning">{{ formatarMoeda(credito.valorDeducao) }}</h5>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="border-end">
                          <h6 class="text-muted">Base de Cálculo</h6>
                          <h5 class="text-info">{{ formatarMoeda(credito.baseCalculo) }}</h5>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <h6 class="text-muted">ISSQN ({{ formatarPercentual(credito.aliquota) }})</h6>
                        <h5 class="text-success">{{ formatarMoeda(credito.valorIssqn) }}</h5>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>